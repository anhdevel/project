<expansion-panel
    [content]="productContent"
    title="{{ product.name }}"
    [description]="OrderResume"
></expansion-panel>
<ng-template #productContent>
    <mat-divider [inset]="false"></mat-divider>
    <mat-card>
        <mat-card-content>
            <p>
                {{ product.description }}
            </p>
            <div
                fxLayout="column"
                fxLayoutAlign="center start"
                fxLayoutGap="10px"
            >
                <div
                    fxLayout="row"
                    fxLayoutAlign="center center"
                    fxLayoutGap="10px"
                >
                    <span> Count:</span><span> {{ product.count }}</span>
                </div>
                <div
                    fxLayout="row"
                    fxLayoutAlign="center center"
                    fxLayoutGap="10px"
                >
                    <span> InStock:</span
                    ><span> {{ product.inStock ? 'Yes' : 'No' }}</span>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</ng-template>
<ng-template #OrderResume>
    <div fxLayout="column" fxLayoutAlign="center stretch" fxFlex>
        <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="2em">
            <div>
                Price:
                {{ product.price | currency: 'USD' }}
            </div>
            <button
                mat-icon-button
                color="primary"
                [disabled]="!product.inStock"
                matTooltip="Add Product to Order"
                matTooltipPosition="above"
                (click)="addProduct($event)"
            >
                <mat-icon>add_shopping_cart</mat-icon>
            </button>
        </div>
    </div>
</ng-template>
